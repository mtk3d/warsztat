<div class="ui segment" style="max-height: 100%;">
    <form class="ui form" #consumerForm="ngForm">
        <div class="ui relaxed grid">
            <div class="two column row">
                <div class="column">
                    <h4 class="ui dividing header">Podstawowe dane</h4>
                    <div class="field">
                        <label>Firma</label>
                        <input type="text" name="company" id="company" placeholder="Firma" [(ngModel)]="consumer.company">
                    </div>
                    <div class="field">
                        <div class="two fields">
                            <div class="field" [ngClass]="{'error': (!firstName.valid && (firstName.dirty || firstName.touched))}">
                                <label>Imię *</label>
                                <input type="text" name="firstName" required placeholder="Imie" [(ngModel)]="consumer.firstName" #firstName="ngModel">
                                <div *ngIf="firstName.errors && (firstName.dirty || firstName.touched)">
                                    <small [hidden]="!firstName.errors.required">Imię jest wymagane</small>
                                </div>
                            </div>
                            <div class="field" [ngClass]="{'error': (!lastName.valid && (lastName.dirty || lastName.touched))}">
                                <label>Nazwisko *</label>
                                <input type="text" name="lastName" required placeholder="Nazwisko" [(ngModel)]="consumer.lastName" #lastName="ngModel">
                                <div *ngIf="lastName.errors && (lastName.dirty || lastName.touched)">
                                    <small [hidden]="!lastName.errors.required">Nazwisko jest wymagane</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field">
                        <div class="two fields">
                            <div class="field" [ngClass]="{'error': (!nip.valid && (nip.dirty || nip.touched))}">
                                <label>NIP</label>
                                <input type="text" name="nip" pattern="^\d{3}-\d{3}-\d{2}-\d{2}|\d{3}-\d{2}-\d{2}-\d{3}$" placeholder="NIP" [(ngModel)]="consumer.nip" #nip="ngModel">
                                <div *ngIf="nip.errors && (nip.dirty || nip.touched)">
                                    <small [hidden]="!nip.errors.pattern">Podaj poprawny format nipu</small>
                                </div>
                            </div>
                            <div class="field">
                                <label>PESEL</label>
                                <input type="text" name="pesel" placeholder="PESEL" [(ngModel)]="consumer.pesel">
                            </div>
                        </div>
                    </div>
                    <div class="fields">
                        <div class="ten wide field" [ngClass]="{'error': (!street.valid && (street.dirty || street.touched))}">
                            <label>Ulica *</label>
                            <input type="text" name="street" required id="street" placeholder="Ulica" [(ngModel)]="consumer.street" #street="ngModel">
                            <div *ngIf="street.errors && (street.dirty || street.touched)">
                                <small [hidden]="!street.errors.required">Ulica jest wymagana</small>
                            </div>
                        </div>
                        <div class="three wide field">
                            <label>Budynek</label>
                            <input type="text" name="buildNumber" placeholder="Budynek" [(ngModel)]="consumer.buildNumber">
                        </div>
                        <div class="three wide field">
                            <label>Lokal</label>
                            <input type="text" name="apartmentNumber" placeholder="Lokal" [(ngModel)]="consumer.apartmentNumber">
                        </div>
                    </div>
                    <div class="fields">
                        <div class="five wide field" [ngClass]="{'error': (!postalCode.valid && (postalCode.dirty || postalCode.touched))}">
                            <label>Kod pocztowy *</label>
                            <input type="text" name="postalCode" pattern="[0-9]{2}\-[0-9]{3}" required placeholder="Kod pocztowy" [(ngModel)]="consumer.postalCode" #postalCode="ngModel">
                            <div *ngIf="postalCode.errors && (postalCode.dirty || postalCode.touched)">
                                <small [hidden]="!postalCode.errors.required">Kod pocztowy jest wymagany</small>
                                <small [hidden]="!postalCode.errors.pattern">Podaj poprawny format (00-000)</small>
                            </div>
                        </div>
                        <div class="eleven wide field" [ngClass]="{'error': (!place.valid && (place.dirty || place.touched))}">
                            <label>Miejscowość *</label>
                            <input type="text" name="place" placeholder="Miejscowość" required [(ngModel)]="consumer.place" #place="ngModel">
                            <div *ngIf="place.errors && (place.dirty || place.touched)">
                                <small [hidden]="!place.errors.required">Miejscowość jest wymagana</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <h4 class="ui dividing header">Dane dodatkowe</h4>
                    <div class="field">
                        <label>Telefon</label>
                        <div class="field">
                            <input type="text" name="phone" placeholder="Telefon" [(ngModel)]="consumer.phone">
                        </div>
                    </div>
                    <div class="field" [ngClass]="{'error': (!email.valid && (email.dirty || email.touched))}">
                        <label>Email</label>
                        <input type="text" name="email" placeholder="Email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" [(ngModel)]="consumer.email" #email="ngModel">
                        <div *ngIf="email.errors && (email.dirty || email.touched)">
                            <small [hidden]="!email.errors.pattern">Podaj poprawny format adresu email</small>
                        </div>
                    </div>
                    <div class="field">
                        <label>WWW</label>
                        <div class="field">
                            <input type="text" name="www" placeholder="WWW" [(ngModel)]="consumer.www">
                        </div>
                    </div>
                    <div class="field">
                        <label>Bank</label>
                        <div class="field">
                            <input type="text" name="bank" placeholder="Bank" [(ngModel)]="consumer.bank">
                        </div>
                    </div>
                    <div class="field" [ngClass]="{'error': (!bankAccount.valid && (bankAccount.dirty || bankAccount.touched))}">
                        <label>Numer konta</label>
                        <div class="ui labeled input">
                            <div class="ui label">
                                PL
                            </div>
                            <input type="text" name="bankAccount" pattern="[0-9]{26}" placeholder="Numer konta" [(ngModel)]="consumer.bankAccount" #bankAccount="ngModel">
                        </div>
                        <div *ngIf="bankAccount.errors && (bankAccount.dirty || bankAccount.touched)">
                            <small [hidden]="!bankAccount.errors.pattern">Podaj poprawny numer konta</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <br>
    <button class="ui  green labeled icon button" [ngClass]="{'loading': addLoading}" (click)="add()" [disabled]="!consumerForm.form.valid || addLoading">
        <i class="plus icon"></i> Dodaj
    </button>
</div>
